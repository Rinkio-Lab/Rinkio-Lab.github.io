/* === 主题变量 === */
:root {
    --bg: #f5f5f5;
    --text: #263238;
    --card: #ffffff;
    --border: #e0e0e0;
    --ultramarine: #1a237e;
    --accent: #3f51b5;
    --tag-1: #3f51b5;
    --tag-2: #00bcd4;
    --tag-3: #4caf50;
    --tag-4: #ff5722;
    --tag-5: #9c27b0;
}

body.dark-theme {
    --bg: #121212;
    --text: #e8eaf6;
    --card: #1e1e1e;
    --border: #333;
    --tag-1: #757de8;
    --tag-2: #4dd0e1;
    --tag-3: #80cbc4;
    --tag-4: #ff9e80;
    --tag-5: #b388ff;
}

/* === 通用样式 === */
@font-face {
    font-family: 'SarasaMonoSC';
    src: url('../fonts/SarasaMonoSC-Regular.woff2') format('woff2'),
        url('../fonts/SarasaMonoSC-Regular.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
}

html, body {
    min-height: 100vh; /* 确保背景覆盖整个可滚动区域 */
}

body, html, code {
    margin: 0;
    font-family: "SarasaMonoSC", "Roboto", "Helvetica Neue", sans-serif;
    background: var(--bg);
    color: var(--text);
    transition: background .3s, color .3s;
    user-select: none; /* 禁止选中文本 */
}

/* === 重写 Materialize 组件 === */
.card,
.collection,
.collection-item {
    background-color: var(--card) !important;
    color: var(--text) !important;
    border-color: var(--border) !important;
}

/* === 标签样式 === */
.tag-common {
    background-color: var(--ultramarine);
    color: white;
}

.tag-4 {
    background-color: var(--tag-4);
    color: white;
}

.tag-5 {
    background-color: var(--tag-5);
    color: white;
}

/* === 导航和芯片样式 === */
.tab-section {
    margin-top: 2rem;
}

nav.ultramarine {
    background-color: var(--ultramarine);
}

.ultramarine-gradient {
    background: linear-gradient(135deg, var(--ultramarine), var(--accent));
}

.chip.ultramarine {
    background-color: var(--ultramarine);
    color: #fff;
}

/* === 首页 Hero 样式 === */
#hero {
    padding: 6rem 0 5rem;
}

#hero img {
    margin-bottom: 1.5rem;
    border: 4px solid rgba(255, 255, 255, .2);
}

/* === 首页 Hero 样式 === */

.type-container {
  position: relative;
  font-size: 3rem;
  white-space: nowrap;
  min-width: 15ch; /* 防止删除到空时页面抖动 */
  height: 120px;
}

#typewriter {
  display: inline-block;
  border-right: 2px solid var(--text);
  animation: blink-caret 0.75s step-end infinite;
  font-size: 1.8em;
  height: 1.5em;
}

#ghost {
  visibility: hidden;
  position: absolute;
  left: 0;
  top: 0;
  pointer-events: none;
  height: 1.5em;
}

@keyframes blink-caret {
  from, to {
    border-color: transparent;
  }
  50% {
    border-color: var(--text);
  }
}

/* === 侧边导航样式 === */
.sidenav {
    background-color: var(--card);
}

.sidenav .user-view .background img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}

.sidenav .user-view .name,
.sidenav .user-view .email {
    font-weight: bold;
}

.sidenav li > a {
    color: var(--text) !important;
}

.sidenav li > a > i.material-icons {
    color: var(--text) !important;

    margin-right: 16px;
}

/* === 联系方式样式 === */
.contact-links {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin-top: 30px;
}

.contact-links .btn-floating {
    transition: transform 0.3s ease;
}

.contact-links .btn-floating:hover {
    transform: translateY(-5px);
}

/* === 文章页样式 === */

/* === 格言块样式 === */
blockquote {
    margin: 20px 0;
    padding: 15px 20px;
    border-left: 5px solid var(--accent);
    background-color: var(--card);
    font-size: 1.4em;
    line-height: 1.6;
    color: var(--text);
    border-radius: 4px;
}

blockquote p {
    margin: 0;
}

#hero > div > p {
    font-size: 1.4em;
}

/* === Highlight.js 样式适配 === */
.article .img-container {
    width: 100%;
    max-height: 300px;
    overflow: hidden;
    position: relative;
    border-radius: 8px;
    margin-bottom: 20px;
}

.article .img-container img {
    width: 100%;
    display: block;
    border-radius: 8px;
}

.article .img-container.expanded {
    max-height: none;
}

.article .expand-button {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    background-color: rgba(0, 0, 0, 0.6);
    color: white;
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.9em;
    z-index: 10;
    display: none;
}

.article .img-container:not(.expanded) .expand-button {
    display: block;
}

.article h1 {
    margin-top: 0;
}

.article .meta {
    margin-bottom: 1.5rem;
}

.article pre {
    background: rgba(26, 35, 126, .05);
    padding: 1rem;
    border-radius: 4px;
    overflow-x: auto;
}

body.dark-theme .article pre {
    background: #2d2d2d;
}

code {
    background-color: rgba(0, 0, 0, 0.05);
    padding: 2px 4px;
    border-radius: 3px;
}

body.dark-theme code {
    background-color: rgba(255, 255, 255, 0.1);
}

/* === 代码块复制按钮 === */
.copy-code-button {
    position: absolute;
    top: 5px;
    right: 5px;
    background-color: var(--card);
    color: var(--text);
    border: 1px solid var(--border);
    padding: 5px 10px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 0.8em;
    opacity: 0;
    transition: opacity 0.3s ease-in-out;
}

pre:hover .copy-code-button {
    opacity: 1;
}

.copy-code-button:hover {
    background-color: var(--ultramarine);
    color: white;
}

/* === 缩写展开样式 === */
.abbr-typing {
    display: inline-block;
    white-space: nowrap;
    overflow: hidden;
    color: var(--text);
    vertical-align: bottom;
    transition: min-width 0.3s ease;
    cursor: pointer;
    font-family: "SarasaMonoSC", "Roboto", "Helvetica Neue", sans-serif;
}

.abbr-typing.animating {
    pointer-events: none;
    opacity: 0.8;
    font-family: "SarasaMonoSC", "Roboto", "Helvetica Neue", sans-serif;
}

/* === 高亮.js 样式适配 === */
body.dark-theme .hljs {
    color: #e8eaf6;
}

body.dark-theme .hljs-comment,
body.dark-theme .hljs-quote {
    color: #9e9e9e;
}

body.dark-theme .hljs-keyword,
body.dark-theme .hljs-selector-tag,
body.dark-theme .hljs-literal,
body.dark-theme .hljs-name {
    color: #82b1ff;
}

body.dark-theme .hljs-string,
body.dark-theme .hljs-doctag,
body.dark-theme .hljs-regexp {
    color: #c8e6c9;
}

body.dark-theme .hljs-title,
body.dark-theme .hljs-section,
body.dark-theme .hljs-built_in,
body.dark-theme .hljs-bullet,
body.dark-theme .hljs-code {
    color: #ffcc80;
}

body.dark-theme .hljs-subst,
body.dark-theme .hljs-variable,
body.dark-theme .hljs-template-variable,
body.dark-theme .hljs-selector-attr,
body.dark-theme .hljs-selector-pseudo,
body.dark-theme .hljs-attribute {
    color: #e8eaf6;
}

body.dark-theme .hljs-addition {
    color: #a5d6a7;
}

body.dark-theme .hljs-deletion {
    color: #ffab91;
}

body.dark-theme .hljs-meta,
body.dark-theme .hljs-selector-id,
body.dark-theme .hljs-class .hljs-title {
    color: #bbdefb;
}

body.dark-theme .hljs-link {
    color: #80cbc4;
}

body.dark-theme .hljs-emphasis {
    font-style: italic;
}

body.dark-theme .hljs-strong {
    font-weight: bold;
}

/* === 按钮样式 === */
.btn-flat {
    color: var(--text) !important;
}

body.dark-theme .btn-flat {
    color: var(--text) !important;
}